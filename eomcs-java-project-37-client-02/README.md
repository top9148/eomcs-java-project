# eomcs-java-project-4.6-client

애플리케이션 서버가 등장한 이유!

- 애플리케이션 기능 변경 후 사용자 PC에 프로그램을 재설치 하지 않고 배포하는 방법
- 애플리케이션 서버 아키텍처를 이해하기

## 프로젝트 - 수업관리 시스템  

현재의 애플리케이션 구조는 기능을 추가할 때 마다 사용자 PC에 재설치해야 하는 문제가 있다. 이를 해결하기 위해 사용자 PC에서 프로그램을 실행하지 않고 서버에서 실행하게 한다. 사용자 PC는 단지 사용자가 입력한 값을 서버에 전달하고, 서버가 보내 준 실행 결과를 출력하는 일만 한다. 이런 애플리케이션 구조에서는 기능을 추가하거나 변경할 때 서버 쪽에서만 처리하면 되고, 서버에 적용하는 즉시 사용자 PC에서 바로 사용할 수 있다는 이점이 있다.

### ver 4.6.0 - 클라이언트 요청에 대해 응답하는 서버 프로그램으로 전환하라.

`eomcs-java-project-client` 새 프로젝트를 생성한다. 

#### 1단계) 클라이언트와 서버 사이의 통신 규칙을 정한다

`eomcs-java-project-server` 쪽에 정의되어 있다.

#### 2단계) `규칙1`에 따라 통신하는 기능을 구현한다.

- ClientApp.java (ClientApp.java.01)
    - 서버와 통신하는 기능을 구현한다.

##### 실행 결과

`eomcs-java-project-server` 프로젝트의 `App` 클래스를 실행한다.
```
DataLoaderListener.contextInitialized() 실행!
MariaDB에 연결했습니다.
서버 실행!
.
.
.
클라이언트와 연결됨.
클라이언트와 요청 처리 중...
클라이언트와 요청 처리 중...
클라이언트와 요청 처리 중...
클라이언트와 연결 종료!
```

`eomcs-java-project-client`프로젝트의 `ClientApp`을 실행한다.
```
명령> /lesson/list
  1, 자바 기초 프로그래밍    , 2019-01-02 ~ 2019-01-15,   80
  2, 자바 고급 프로그래밍    , 2019-01-14 ~ 2019-01-25,   80
  3, 자바 웹 프로그래밍     , 2019-01-21 ~ 2019-02-01,   80
  4, IoT 프로그래밍      , 2019-02-04 ~ 2019-03-04,   80
  5, C# 프로그래밍       , 2019-02-04 ~ 2019-02-15,   40
명령> /lesson/delete
실행할 수 없는 명령입니다.
명령> quit
```

#### 3단계) `규칙2`에 따라 통신하는 기능을 구현한다.

- ClientApp.java
    - 서버의 응답에 따라 사용자의 입력을 요구하는 기능을 추가한다.


### ver 4.6.1 - `Stateful` 통신 방식을 `Stateless` 통신 방식으로 변경하라.

클라이언트가 서버에 한 번 연결되면 클라이언트가 연결을 끊을 때까지 서버와의 연결이 계속 유지된다. 클라이언트가 서버를 이용하지 않아도 계속 연결되어 있기 때문에 서버쪽 자원이 낭비되는 문제가 있다. 그래서 클라이언트가 서버에 작업을 요청할 때만 잠시 연결되고 작업 끝난 후에는 연결을 끊는 방식으로 전환한다.

- ClientApp.java
    - 작업을 요청할 때마다 연결하고 서버로부터 응답을 받은 후에는 연결을 끊는다.

##### 실행 결과

`eomcs-java-project-server` 프로젝트의 `App` 클래스를 실행한다.
```
DataLoaderListener.contextInitialized() 실행!
MariaDB에 연결했습니다.
서버 실행!
클라이언트와 연결됨.
클라이언트와 요청 처리 중...
클라이언트와 연결 종료!
클라이언트와 연결됨.
클라이언트와 요청 처리 중...
클라이언트와 연결 종료!
클라이언트와 연결됨.
클라이언트와 요청 처리 중...
클라이언트와 연결 종료
```

`eomcs-java-project-client`프로젝트의 `ClientApp`을 실행한다.
```
명령> /lesson/list
  1, 자바 기초 프로그래밍    , 2019-01-02 ~ 2019-01-15,   80
  2, 자바 고급 프로그래밍    , 2019-01-14 ~ 2019-01-25,   80
  3, 자바 웹 프로그래밍     , 2019-01-21 ~ 2019-02-01,   80
  4, IoT 프로그래밍      , 2019-02-04 ~ 2019-03-04,   80
  5, C# 프로그래밍       , 2019-02-04 ~ 2019-02-15,   40

명령> /board/add
내용?
test..ok
작성자?
1
수업?
1
게시글을 저장했습니다.

명령> /board/list
  1, 반갑습니다.              , 2018-11-14, 0, 3, 1
  2, 과제하셨나요?             , 2018-11-14, 0, 5, 1
  3, MT 가실 분 신청받아요.      , 2018-11-14, 0, 7, 1
  4, 오늘 수업 너무 좋아요.       , 2018-11-14, 0, 8, 1
  5, 개발 아르바이트 구합니다.      , 2018-11-14, 0, 4, 2
  6, 반가워요.               , 2018-11-14, 0, 9, 2
  7, 기말 고사 준비하실분?        , 2018-11-14, 0, 10, 2
  8, C#이 자바랑 많이 다른가요?    , 2018-11-14, 0, 7, 3
  9, 어제 강의 자료 보여주실분?     , 2018-11-14, 0, 9, 3
 10, test..ok            , 2018-11-15, 0, 1, 1
 11, 1                   , 2018-11-15, 0, 1, 1
 12, test..ok            , 2018-11-15, 0, 1, 1

명령> 

```
  
## 실습 소스

- src/main/java/com/eomcs/lms/ClientApp.java 변경
